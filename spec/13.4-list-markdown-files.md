# Spec 13.4: List Markdown Files

**Status:** Complete
**Created:** 2025-12-01
**Parent:** [Spec 13: Lightweight Knowledge Base](13-lightweight-knowledge-base.md)

## Overview

Display a list of all stored markdown files with basic metadata on the KB page.

## Requirements

### Functional Requirements

1. **Document List Display**
   - Show all documents in a list format
   - Display document title as clickable link
   - Show creation date for each document

2. **List Behavior**
   - Most recent documents appear first
   - Empty state shown when no documents exist (already implemented)

### Technical Requirements

1. **Data Fetching** - Server-side fetch of KBDocument list
2. **Sorting** - Sort by createdAt descending (newest first)
3. **Link Format** - Each title links to `/kb/[id]` detail page

## Implementation Plan

### Files to Modify

1. **src/app/kb/page.tsx** - Enhance document list display with dates and links

## Test Cases

### Cypress E2E Tests

**Test 1: Document List Shows Title as Link**
```typescript
it("displays document titles as clickable links", () => {
  cy.visit("/kb");
  cy.get('[data-testid="kb-document-list"]').within(() => {
    cy.get("a").should("exist");
  });
});
```

**Test 2: Document Shows Creation Date**
```typescript
it("displays creation date for documents", () => {
  cy.visit("/kb");
  cy.get('[data-testid="kb-document-list"]').within(() => {
    cy.get('[data-testid="document-date"]').should("exist");
  });
});
```

**Test 3: Documents Sorted by Date**
```typescript
it("shows newest documents first", () => {
  // Create two documents and verify order
  cy.visit("/kb");
  cy.get('[data-testid="kb-document-list"] li').should("have.length.at.least", 1);
});
```

## UI Design

```
┌─────────────────────────────────────────────────────────────┐
│  Idea Backlog    Knowledge Base                             │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  Knowledge Base                        [ + New Document ]   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  Test Document                          Dec 1, 2025 │   │
│  └─────────────────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  API Guidelines                         Nov 30, 2025│   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```
